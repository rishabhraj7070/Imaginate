<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Story Generator</title>
<style>
  :root {
    --purple1: #9933ff;
    --pink: #d63277;
    --gradient: linear-gradient(90deg, #7c33f5 0%, #d63277 100%);
    --bg-light: #fbf3fc;
    --card-bg: #fff;
    --shadow-md: rgba(102, 61, 255, 0.15);
    --border-input: #d7e2ea;
    --text-primary: #3d4a58;
    --text-secondary: #596979;
  }
  body {
    margin: 0;
    background: var(--bg-light);
    font-family: "Segoe UI", sans-serif;
  }

  /* Top bar */
  .top-bar {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    padding: 1rem;
    background: var(--card-bg);
    box-shadow: 0 2px 10px var(--shadow-md);
    position: sticky;
    top: 0;
    z-index: 10;
  }
  .icon-btn {
    background: none;
    border: none;
    font-size: 1.6rem;
    margin-left: 1rem;
    cursor: pointer;
    color: var(--purple1);
  }

  /* Story form */
  .centered-viewport {
    min-height: calc(100vh - 70px);
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
  }
  .card {
    background: var(--card-bg);
    border-radius: 16px;
    box-shadow: 0 10px 30px var(--shadow-md);
    padding: 2rem;
    max-width: 480px;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  textarea, select {
    width: 100%;
    border: 1.5px solid var(--border-input);
    border-radius: 12px;
    padding: 0.75rem 1rem;
    font-size: 1rem;
  }
  .btn-primary {
    background: var(--gradient);
    color: white;
    font-weight: bold;
    padding: 0.8rem;
    border: none;
    border-radius: 30px;
    cursor: pointer;
  }

  /* Profile modal */
  .modal {
    display: none;
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.5);
    justify-content: center;
    align-items: center;
  }
  .modal-content {
    background: var(--card-bg);
    border-radius: 16px;
    padding: 2rem;
    max-width: 350px;
    width: 90%;
    text-align: center;
    box-shadow: 0 10px 30px var(--shadow-md);
  }
  .modal-content h2 {
    color: var(--purple1);
    margin-bottom: 1rem;
  }
  .close-btn {
    margin-top: 1rem;
    background: var(--gradient);
    border: none;
    padding: 0.6rem 1.2rem;
    border-radius: 30px;
    color: white;
    font-weight: bold;
    cursor: pointer;
  }
</style>
</head>
<body>

<!-- Top navigation -->
<div class="top-bar">
  <button class="icon-btn" onclick="openProfile()">ðŸ‘¤</button>
  <button class="icon-btn" onclick="goToWallet()">ðŸ’°</button>
</div>

<!-- Story Input Page -->
<section id="story-input-page" class="centered-viewport">
  <form class="card" onsubmit="goToStory(event)">
    <label>Story Idea</label>
    <textarea id="storyIdea" placeholder="Enter your story idea..." required></textarea>

    <label>Genre</label>
    <select id="genre" required>
      <option disabled selected>Select genre</option>
      <option>Fantasy</option>
      <option>Sci-Fi</option>
      <option>Mystery</option>
    </select>

    <label>Tone</label>
    <select id="tone" required>
      <option disabled selected>Select tone</option>
      <option>Dark</option>
      <option>Lighthearted</option>
    </select>

    <label>Audience</label>
    <select id="audience" required>
      <option disabled selected>Select audience</option>
      <option>Kids</option>
      <option>Teens</option>
      <option>Adults</option>
    </select>

    <button type="submit" class="btn-primary">Generate</button>
  </form>
</section>

<!-- Profile Modal -->
<div class="modal" id="profileModal">
  <div class="modal-content">
    <h2>ðŸ‘¤ Profile</h2>
    <p><strong>Name:</strong> Rishabh Raj</p>
    <p><strong>Email:</strong> rishabh@example.com</p>
    <p><strong>Phone:</strong> +91 9876543210</p>
    <button class="close-btn" onclick="closeProfile()">Close</button>
  </div>
</div>

<script>
  function goToStory(event) {
    event.preventDefault();
    let idea = document.getElementById("storyIdea").value;
    let genre = document.getElementById("genre").value;
    let tone = document.getElementById("tone").value;
    let audience = document.getElementById("audience").value;

    // redirect to output.html with parameters
    window.location.href = `output.html?idea=${encodeURIComponent(idea)}&genre=${genre}&tone=${tone}&audience=${audience}`;
  }

  function goToWallet() {
    window.location.href = "wallet.html";
  }

  function openProfile() {
    document.getElementById("profileModal").style.display = "flex";
  }
  function closeProfile() {
    document.getElementById("profileModal").style.display = "none";
  }
</script>

</body>
</html>
